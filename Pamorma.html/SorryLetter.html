<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>I'm sorry Ma'am Yuna</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
      background-color: #fff0f5;
    }

    .container {
      margin-top: 50px;
      padding: 20px;
    }

    h1 {
      color: #d6336c;
      font-size: clamp(1.5rem, 5vw, 2.5rem);
    }

    .buttons button {
      padding: 10px 20px;
      margin: 10px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      transition: transform 0.2s ease;
    }

    #yesBtn {
      background-color: #ff69b4;
      color: white;
    }

    #noBtn {
      background-color: #ff1493;
      color: white;
      position: relative;
    }

    #envelopeContainer {
      display: none;
      margin-top: 20px;
    }

    .envelope {
      position: relative;
      width: min(300px, 80vw);
      height: min(200px, 55vw);
      margin: auto;
      background: #ffb6c1;
      border: 2px solid #d6336c;
      border-radius: 10px;
      overflow: hidden;
    }

    .flap {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 50%;
      background: #ff69b4;
      clip-path: polygon(0 0, 100% 0, 50% 100%);
      transform-origin: top;
      transition: transform 0.8s;
      z-index: 2;
    }

    .pocket {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 50%;
      background: #ffc0cb;
      z-index: 1;
    }

    .letter {
      display: none;
      margin-top: 20px;
      padding: 15px;
      border: 2px solid #d6336c;
      background: white;
      border-radius: 10px;
      max-width: min(400px, 90%);
      margin-left: auto;
      margin-right: auto;
    }

    .tulips {
      margin-top: 15px;
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    .tulip {
      width: 40px;
      height: 80px;
    }

    #videoContainer {
      display: none;
      margin-top: 20px;
    }

    iframe {
      width: min(560px, 90vw);
      height: min(315px, 50vw);
      border: none;
    }

    #lastPartBtn {
      display: none;
      margin: 30px auto 0 auto;
      padding: 12px 24px;
      background-color: #ff69b4;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
    }

    #memoriesPage {
      display: none;
      text-align: center;
      margin-top: 20px;
    }

    #memoriesPage h2 {
      color: #d6336c;
      margin-bottom: 20px;
      font-size: clamp(1.2rem, 2vw, 2rem);
    }

    .memories-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .memories-container img {
      width: 40%;
      max-width: 300px;
      border-radius: 10px;
      border: 5px solid pink;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 1s ease, transform 1s ease;
    }

    .fade-in-left {
      opacity: 1 !important;
      transform: translateX(0) !important;
    }

    .fade-in-right {
      opacity: 1 !important;
      transform: translateX(0) !important;
    }

    @media (max-width: 600px) {
      .memories-container img {
        width: 80%;
      }
      .tulip {
        width: 30px;
        height: 60px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="question">Are you mad?</h1>
    <div class="buttons">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </div>

    <div id="envelopeContainer">
      <div class="envelope">
        <div class="flap" id="flap"></div>
        <div class="pocket"></div>
      </div>
      <button id="openLetterBtn">Open Letter</button>
    </div>

    <div id="letter" class="letter">
      <p>This is my apology code I hope in any way possible I lighten up your day the way you light my day up :)</p>
      <div class="tulips">
        <!-- Hardcoded SVG tulips -->
        <svg class="tulip" viewBox="0 0 64 128">
          <path d="M32 20 C40 10, 50 10, 52 30 C54 50, 32 60, 32 60 C32 60, 10 50, 12 30 C14 10, 24 10, 32 20 Z" fill="#ff69b4"/>
          <rect x="30" y="60" width="4" height="60" fill="green"/>
        </svg>
        <svg class="tulip" viewBox="0 0 64 128">
          <path d="M32 20 C40 10, 50 10, 52 30 C54 50, 32 60, 32 60 C32 60, 10 50, 12 30 C14 10, 24 10, 32 20 Z" fill="#ff69b4"/>
          <rect x="30" y="60" width="4" height="60" fill="green"/>
        </svg>
        <svg class="tulip" viewBox="0 0 64 128">
          <path d="M32 20 C40 10, 50 10, 52 30 C54 50, 32 60, 32 60 C32 60, 10 50, 12 30 C14 10, 24 10, 32 20 Z" fill="#ff69b4"/>
          <rect x="30" y="60" width="4" height="60" fill="green"/>
        </svg>
      </div>
    </div>

    <div id="videoContainer">
      <div id="apologyVideo"></div>
    </div>

    <button id="lastPartBtn">Last Part</button>

    <div id="memoriesPage">
      <h2>My admiration for you Ma'am Yuna</h2>
      <div class="memories-container">
        <img id="memoryImage1" src="Meme.jpg" alt="Memory 1" />
        <img id="memoryImage2" src="Wonderful.jpg" alt="Memory 2" />
      </div>
    </div>
  </div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    const question = document.getElementById("question");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const envelopeContainer = document.getElementById("envelopeContainer");
    const openLetterBtn = document.getElementById("openLetterBtn");
    const letter = document.getElementById("letter");
    const flap = document.getElementById("flap");
    const videoContainer = document.getElementById("videoContainer");
    const memoriesPage = document.getElementById("memoriesPage");
    const memoryImage1 = document.getElementById("memoryImage1");
    const memoryImage2 = document.getElementById("memoryImage2");
    const lastPartBtn = document.getElementById("lastPartBtn");

    let noCount = 0;
    let player;

    function moveButton() {
      noCount++;
      if (noCount < 3) {
        let x = Math.random() * 200;
        let y = Math.random() * 150;
        noBtn.style.left = x + "px";
        noBtn.style.top = y + "px";
        question.innerText = "Are you really sure?";
      } else {
        noBtn.textContent = "Yes";
        noBtn.style.left = "0px";
        noBtn.style.top = "0px";
        noBtn.removeEventListener("mouseover", moveButton);
        noBtn.addEventListener("click", () => {
          document.querySelector(".buttons").style.display = "none";
          question.innerText = "I apologize for my actions.";
          envelopeContainer.style.display = "block";
        });
      }
    }

    noBtn.addEventListener("mouseover", moveButton);
    noBtn.addEventListener("click", moveButton);

    yesBtn.addEventListener("click", () => {
      document.querySelector(".buttons").style.display = "none";
      question.innerText = "I apologize for my actions.";
      envelopeContainer.style.display = "block";
    });

    openLetterBtn.addEventListener("click", () => {
      flap.style.transform = "rotateX(180deg)";
      setTimeout(() => {
        document.getElementById("envelopeContainer").style.display = "none";
        letter.style.display = "block";
        videoContainer.style.display = "block";

        player = new YT.Player('apologyVideo', {
          videoId: 'X3tH4JyCtks',
          playerVars: { start: 68, end: 96 },
          events: { 'onStateChange': onPlayerStateChange }
        });

        lastPartBtn.style.display = "none";
      }, 800);
    });

    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.ENDED) {
        lastPartBtn.style.display = "block";
      }
    }

    lastPartBtn.addEventListener("click", () => {
      videoContainer.style.display = "none";
      memoriesPage.style.display = "block";
      setTimeout(() => {
        memoryImage1.classList.add("fade-in-left");
        setTimeout(() => {
          memoryImage2.classList.add("fade-in-right");
        }, 2000);
      }, 1000);
    });
  </script>
</body>
</html>
